<ion-header class="ion-no-border">
  <ion-toolbar>
    <div class="header-content">
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/categories" text=""></ion-back-button>
      </ion-buttons>
      <h1 class="header-title">{{ isEditing ? 'Editar' : 'Nueva' }} Categoría</h1>
      <div style="width:48px"></div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="form-wrapper">

    <!-- Preview -->
    <div class="preview-card">
      <div class="preview-badge" [style.background]="color + '20'" [style.color]="color">
        <span class="preview-dot" [style.background]="color"></span>
        {{ name || 'Nombre de categoría' }}
      </div>
    </div>

    <!-- Nombre -->
    <div class="field-card">
      <label class="field-label">Nombre</label>
      <ion-input
        class="field-input"
        [(ngModel)]="name"
        placeholder="Ej: Trabajo, Personal...">
      </ion-input>
    </div>

    <!-- Color -->
    <div class="field-card">
      <label class="field-label">Color</label>
      <div class="color-grid">
        <button
          *ngFor="let c of colors"
          class="color-dot"
          [class.selected]="color === c"
          [style.background]="c"
          (click)="color = c">
          <ion-icon name="checkmark" *ngIf="color === c"></ion-icon>
        </button>
      </div>
    </div>

    <!-- Botón -->
    <button class="save-btn" (click)="save()" [disabled]="!name.trim()">
      {{ isEditing ? 'Guardar cambios' : 'Crear categoría' }}
    </button>

  </div>
</ion-content>